<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title th:text="${isNew} ? 'Create Project' : 'Edit Project'">Project Form</title>
    <meta charset="UTF-8">

    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
          rel="stylesheet">
</head>
<body class="bg-light">

<div class="container py-4">
    <h1 class="mb-4" th:text="${isNew} ? 'Create IoT Project' : 'Edit IoT Project'">Project</h1>

    <div class="card shadow-sm">
        <div class="card-body">
            <form th:action="@{/web/projects/save}" th:object="${project}" method="post">

                <!-- Name -->
                <div class="mb-3">
                    <label for="name" class="form-label">Name</label>
                    <input type="text"
                           id="name"
                           class="form-control"
                           th:field="*{name}"
                           required/>
                </div>

                <!-- Description -->
                <div class="mb-3">
                    <label for="description" class="form-label">Description</label>
                    <textarea id="description"
                              class="form-control"
                              th:field="*{description}"
                              rows="3"
                              required></textarea>
                </div>

                <!-- Repository Link -->
                <div class="mb-3">
                    <label for="repositoryLink" class="form-label">External Repository Link (e.g. Github)</label>
                    <input type="text"
                           id="repositoryLink"
                           class="form-control"
                           th:field="*{externalRepositoryLink}"
                           required/>
                </div>

                <!-- mdns Domain -->
                <div class="mb-3">
                    <label for="mdnsDomain" class="form-label">mDNS domain name (Used for HTTPS Keys)</label>
                    <input type="text"
                           id="mdnsDomain"
                           class="form-control"
                           th:field="*{mdnsDomain}"
                           required/>
                </div>

                                <!-- Created / Updated -->
                <div class="row mb-3">
                    <div class="col-md-6" th:if="${project.createdAt != null}">
                        <label class="form-label fw-semibold">Created At</label>
                        <div class="form-control-plaintext"
                             th:text="${#temporals.format(project.createdAt, 'yyyy-MM-dd HH:mm')}">
                        </div>
                    </div>

                    <div class="col-md-6" th:if="${project.updatedAt != null}">
                        <label class="form-label fw-semibold">Updated At</label>
                        <div class="form-control-plaintext"
                             th:text="${#temporals.format(project.updatedAt, 'yyyy-MM-dd HH:mm')}">
                        </div>
                    </div>
                </div>

                <!-- Buttons -->
                <div class="mt-3 d-flex gap-2">
                    <button type="submit" class="btn btn-primary">Save</button>
                    <a th:href="@{/web/projects}" class="btn btn-secondary">Cancel</a>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Bootstrap JS (optional; needed for some interactive components) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
